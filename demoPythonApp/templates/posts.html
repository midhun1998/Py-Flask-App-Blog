{% extends 'base.html' %}

{% block title %}
<title>Posts</title>
{% endblock %}

{% block body %}
<br>

<h1 class="display-3">Welcome to Blog Post Section</h1>
<br>
<hr>


<div class="jumbotron">
  <h2>Create A New Blog Post: </h2>

  <br>

  <form action="/posts" method="POST">
    <div class="form-group row">
      <label for="title" class="col-sm-2 col-form-label">Title:</label>
      <div class="col-sm-10">
        <input type="text" name="title" class="form-control" name="title" id="title" placeholder="Title of your post.">
      </div>
    </div>
    <div class="form-group row">
      <label for="content" class="col-sm-2 col-form-label">Content:</label>
      <div class="col-sm-10">
        <textarea class="form-control" name="content" id="content" placeholder="Content of your post."></textarea>
      </div>
    </div>
    <div class="form-group row">
      <label for="author" class="col-sm-2 col-form-label">Author:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" name="author" id="author" placeholder="Author of your post.">
      </div>
    </div>
    <button type="submit" class="btn btn-success">Post</button>
  </form>
</div>

<hr>
<h1>All Posts:</h1>
{% for post in posts %}

<div>
  <div>
    <div class="bg-light row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
      <div class="col p-4 d-flex flex-column position-static">
        <strong class="d-inline-block mb-2 text-primary">Blog {{ post.id }}</strong>
        <h3 class="mb-0">{{ post.title }}</h3>
        {% if post.author %}
        <div class="mb-1 text-muted">By: {{  post.author }} on {{  post.date_posted }}</div>
        {% else %}
        <div class="mb-1 text-muted">By: Unknown on {{  post.date_posted }}</div>
        {% endif %}
        <p class="card-text mb-auto" style="white-space: pre-wrap; padding-bottom: 10px;" >{{ post.content }}</p>
        <span><a class="btn btn-primary" role="button" href="/posts/edit/{{ post.id }}">Edit</a>
          <a class="btn btn-danger" role="button" href="/posts/delete/{{ post.id }}">Delete</a></span>
      </div>
      <div class="col-auto d-none d-lg-block">
        <svg class="bd-placeholder-img" width="200" height="250"
          xmlns="https://assets.website-files.com/5e51c674258ffe10d286d30a/5e53533367293a3e5c5a8b35_peep-21.svg"
          preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail">
          <title>Placeholder</title>
          <rect width="100%" height="100%" fill="#55595c" /><text x="50%" y="50%" fill="#eceeef" dy=".3em"></text>
        </svg>
      </div>
    </div>
  </div>




  <br>
  {% endfor %}

  {% endblock %}